"use strict";var MaterialCharts={};MaterialCharts.bar=function(a,t){MaterialCharts.helpers.initializeChartArea(a,t.height,t.width,t.background,t.shadowDepth,"bar");var e=!1,r=MaterialCharts.validators.validateBarChartData(t);r.valid?(t.title&&MaterialCharts.helpers.insertTitle(a,t.title),MaterialCharts.helpers.bar.insertAxes(a,t.noY),MaterialCharts.helpers.bar.insertData(a,parseInt(t.height),parseInt(t.width),t.datasets.values,Math.max.apply(null,t.datasets.values),t.datasets.labels,t.datasets.color,t.noY)):MaterialCharts.helpers.insertErrorMessage(a,r.message),window.setInterval(function(){e&&$(document).on("mousemove",function(t){$(a+" .material-charts-hover").css({top:t.clientY-40,left:t.clientX+15})})},250),$(".material-charts-bar .material-charts-box-chart-vertical-bar").hover(function(){$(a+" .material-charts-hover-text").text($(this).data("hover")),$(a+" .material-charts-hover").css({top:event.clientY-40,left:event.clientX+15}).show(),e=!0},function(){$(a+" .material-charts-hover").hide(),e=!1})},MaterialCharts.pie=function(a,t){MaterialCharts.helpers.initializeChartArea(a,t.height,t.width,t.background,t.shadowDepth,"pie");var e=!1;MaterialCharts.helpers.insertTitle(a,t.title);var r=MaterialCharts.helpers.pie.computePercentages(t.dataset),s=MaterialCharts.helpers.pie.computeAngles(r);MaterialCharts.helpers.pie.drawPieSections(a,t.dataset.labels,r,s),window.setInterval(function(){e&&$(document).on("mousemove",function(t){$(a+" .material-charts-hover").css({top:t.clientY-40,left:t.clientX+15})})},250),$(".material-charts-pie .material-charts-pie-sector").hover(function(){$(a+" .material-charts-hover-text").text($(this).data("hover")),$(a+" .material-charts-hover").css({top:event.clientY-40,left:event.clientX+15}).show(),e=!0},function(){$(a+" .material-charts-hover").hide(),e=!1})},MaterialCharts.helpers={initializeChartArea:function(a,t,e,r,s,i){$(a).addClass("material-charts-chart-area"),$(a).addClass("material-charts-"+i),"pie"==i&&$("<div class='material-charts-pie-chart material-charts-shadow-2'></div>").appendTo(a).css({height:.7*Math.min(parseInt(t),parseInt(e)),width:.7*Math.min(parseInt(t),parseInt(e))}),$(a).append("<div class='material-charts-hover'><div class='material-charts-hover-text'></div></div>"),$(a).css("height",t),$(a).css("width",e),r?$(a).css("background-color",r):$(a).css("background-color","transparent"),s&&$(a).addClass("material-charts-shadow-"+s)},insertTitle:function(a,t){$(a).append("<div class='material-charts-chart-title'>"+t+"</div>")},insertErrorMessage:function(a,t){$(a).append("<div class='material-charts-error-message'><b>"+t+"</b></div>")},elementRealWidth:function(a){var t=a.clone();t.css("visibility","hidden"),$("body").append(t);var e=t.outerWidth();return t.remove(),e}},MaterialCharts.helpers.bar={insertAxes:function(a,t){$(a).append("<div class='material-charts-box-chart-x-axis'></div>"),t||$(a).append("<div class='material-charts-box-chart-y-axis'></div>")},insertData:function(a,t,e,r,s,i,h,l){for(var n=s;n%5!==0;)n++;var o=(t-60)/n,c=n/5*o,d=25,p=(25+n)*o-25*o;if(!l)for(var u=d+c;p>=u;u+=c)this.insertVerticalTick(a,u,(u-25)/o);var v,m,g=(e-50)/(i.length+1);for(v=d+g,m=0;m<i.length;v+=g,m++)this.insertHorizontalLabel(a,v,i[m]),this.insertVerticalBar(a,v,g,r[m]*o,r[m],h)},insertVerticalTick:function(a,t,e){$(a).append("<div class='material-charts-box-chart-vertical-tick' style='bottom: "+t+"px;'></div>"),$(a).append("<div class='material-charts-box-chart-vertical-tick-label' style='bottom: "+(t-4)+"px;'>"+e+"</div>")},insertHorizontalLabel:function(a,t,e){var r=$("<div class='material-charts-box-chart-horizontal-label' style='left: "+t+"px;'>"+e+"</div>");r.appendTo($(a)),this.alignLabel(r)},insertVerticalBar:function(a,t,e,r,s,i){$("<div data-hover='"+s+"' class='material-charts-box-chart-vertical-bar material-charts-"+i+"' style='left: "+(t-e/4)+"px; width: "+e/2+"px; height: "+r+"px'></div>").appendTo($(a)).hide().slideDown()},alignLabel:function(a){var t=MaterialCharts.helpers.elementRealWidth(a),e=parseInt($(a).css("left")),r=e-t/2;a.css("left",r+"px")}},MaterialCharts.helpers.pie={computePercentages:function(a){var t=0,e=[];return a.values.forEach(function(a){t+=a}),a.values.forEach(function(a){e.push(a/t)}),e},computeAngles:function(a){var t=[];return a.forEach(function(a){t.push(360*a)}),t},degreesToRadians:function(a){return a*Math.PI/180},degreesToClipPath:function(a){var t,e=[];return 45>=a?(e.push("50% 50%"),e.push("50% 0%"),t=50+50*Math.tan(this.degreesToRadians(a)),e.push(t.toString()+"% 0%")):a>45&&135>=a?(e.push("50% 50%"),e.push("50% 0%"),e.push("100% 0%"),t=100-(50+50*Math.tan(this.degreesToRadians(90-a))),e.push("100% "+t.toString()+"%")):a>135&&225>=a?(e.push("50% 50%"),e.push("50% 0%"),e.push("100% 0%"),e.push("100% 100%"),t=50+50*Math.tan(this.degreesToRadians(180-a)),e.push(t.toString()+"% 100%")):a>225&&315>=a?(e.push("50% 50%"),e.push("50% 0%"),e.push("100% 0%"),e.push("100% 100%"),e.push("0% 100%"),t=50+50*Math.tan(this.degreesToRadians(270-a)),e.push("0% "+t.toString()+"%")):a>315&&360>=a&&(e.push("50% 50%"),e.push("50% 0%"),e.push("100% 0%"),e.push("100% 100%"),e.push("0% 100%"),e.push("0% 0%"),t=100-(50+50*Math.tan(this.degreesToRadians(360-a))),e.push(t.toString()+"% 0%")),e},drawPieSections:function(a,t,e,r){var s,i=0,h=["#1976d2","#d32f2f","#388e3c","#ffeb3b","#80cbc4","#8e24aa"];for(s=0;s<t.length;s++)this.makePieSector(r[s],i,t[s],h[s%6]),i+=r[s]},makePieSector:function(a,t,e,r){var s=this.degreesToClipPath(a);$("<div class='material-charts-pie-sector'></div>").appendTo(".material-charts-pie-chart").css({"-webkit-clip-path":"polygon("+s.join(", ").toString()+")","-webkit-transform":"rotate("+t.toString()+"deg)","background-color":r}).attr("data-hover",e+", "+(a/360*100).toFixed(2).toString()+"%")}},MaterialCharts.validators={validateBarChartData:function(a){var t={valid:!0,message:""};return 0===a.datasets.values.length?(t.valid=!1,t.message="Material Charts Error: Dataset values cannot be empty.",t):0===a.datasets.labels.length?(t.valid=!1,t.message="Material Charts Error: Dataset labels cannot be empty.",t):a.datasets.labels.length!=a.datasets.values.length?(t.valid=!1,t.message="Material Charts Error: Dataset labels and values must be the same length.",t):null===a.datasets.color?(t.valid=!1,t.message="Material Charts Error: Dataset color must be specified.",t):null===a.height||null===a.width?(t.valid=!1,t.message="Material Charts Error: Chart data must have a height and width.",t):t}};
